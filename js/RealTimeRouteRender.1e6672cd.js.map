{"version":3,"sources":["webpack:///./src/views/RealTimeRouteRender.vue","webpack:///./src/views/RealTimeRouteRender.vue?2902"],"names":["id","name","mounted","store","getters","pageReload","map","d3Map","on","state","d3","json","err","data","coordinates","features","geometry","addSource","type","addLayer","jumpTo","setPitch","i","timer","window","setInterval","length","push","getSource","setData","panTo","clearInterval","Popup","closeOnClick","anchor","setLngLat","setHTML","addTo","render","__scopeId"],"mappings":"2NACOA,GAAG,O,wEAAR,eAAoB,MAApB,M,iCAOa,GACbC,KAAM,sBACNC,QAFa,WAGXC,EAAA,KAAMC,QAAQC,aACd,IAAIC,EAAMH,EAAA,KAAMC,QAAQG,QACxBD,EAAIE,GAAG,QAAQ,WAKbL,EAAA,KAAMM,MAAMC,GAAGC,KACX,4DACA,SAAUC,EAAKC,GACb,GAAID,EAAK,MAAMA,EAGf,IAAIE,EAAcD,EAAKE,SAAS,GAAGC,SAASF,YAE5CD,EAAKE,SAAS,GAAGC,SAASF,YAAc,CAACA,EAAY,IAGrDR,EAAIW,UAAU,QAAS,CAACC,KAAM,UAAWL,KAAMA,IAC/CP,EAAIa,SAAS,CACX,GAAM,QACN,KAAQ,OACR,OAAU,QACV,MAAS,CACP,aAAc,SACd,eAAgB,IAChB,aAAc,KAKlBb,EAAIc,OAAO,CAAC,OAAUN,EAAY,GAAI,KAAQ,KAC9CR,EAAIe,SAAS,IAGb,IAAIC,EAAI,EACJC,EAAQC,OAAOC,aAAY,WACzBH,EAAIR,EAAYY,QAClBb,EAAKE,SAAS,GAAGC,SAASF,YAAYa,KAClCb,EAAYQ,IAEhBhB,EAAIsB,UAAU,SAASC,QAAQhB,GAC/BP,EAAIwB,MAAMhB,EAAYQ,IACtBA,KAEAE,OAAOO,cAAcR,KAEtB,OAKT,IAAI,IAASS,MAAM,CAACC,cAAc,EAAOC,OAAQ,WAC5CC,UAAU,EAAE,WAAY,YACxBC,QAAQ,iLAIRC,MAAM/B,QClEjB,EAAOgC,OAAS,EAChB,EAAOC,UAAY,kBAEJ","file":"js/RealTimeRouteRender.1e6672cd.js","sourcesContent":["<template>\n  <div id=\"map\"></div>\n</template>\n\n<script>\nimport store from \"@/store/store\";\nimport mapboxgl from \"mapbox-gl\";\n\nexport default {\n  name: \"RealTimeRouteRender\",\n  mounted() {\n    store.getters.pageReload();\n    let map = store.getters.d3Map();\n    map.on('load', function () {\n      // We use D3 to fetch the JSON here so that we can parse and use it separately\n      // from GL JS's use in the added source. You can use any request method (library\n      // or otherwise) that you want.\n      //   Important!  \"d3\": \"^3.5.17\" is used. d3.json() function in newer version has different syntax.\n      store.state.d3.json(\n          'https://docs.mapbox.com/mapbox-gl-js/assets/hike.geojson',\n          function (err, data) {\n            if (err) throw err;\n\n            // save full coordinate list for later\n            let coordinates = data.features[0].geometry.coordinates;\n            // start by showing just the first coordinate\n            data.features[0].geometry.coordinates = [coordinates[0]];\n\n          // add it to the map\n            map.addSource('trace', {type: 'geojson', data: data});\n            map.addLayer({\n              'id': 'trace',\n              'type': 'line',\n              'source': 'trace',\n              'paint': {\n                'line-color': 'yellow',\n                'line-opacity': 0.75,\n                'line-width': 5\n              }\n            });\n\n          // setup the viewport\n            map.jumpTo({'center': coordinates[0], 'zoom': 14});\n            map.setPitch(30);\n\n          // on a regular basis, add more coordinates from the saved list and update the map\n            let i = 0;\n            let timer = window.setInterval(function () {\n              if (i < coordinates.length) {\n                data.features[0].geometry.coordinates.push(\n                    coordinates[i]\n                );\n                map.getSource('trace').setData(data);\n                map.panTo(coordinates[i]);\n                i++;\n              } else {\n                window.clearInterval(timer);\n              }\n            }, 10);\n          }\n      );\n\n      // popup helper with description\n      new mapboxgl.Popup({closeOnClick: false, anchor: \"center\"})\n          .setLngLat([-122.035807, 45.632433])\n          .setHTML('<div id=\"animation-helper\" class=\"popup-helper\">' +\n              'The path is rendered in real-time. ' +\n              'This example shows the progression of a path by adding new coordinates to the route.' +\n              '</div>')\n          .addTo(map);\n    });\n  }\n}\n</script>\n\n<style scoped>\n</style>","import { render } from \"./RealTimeRouteRender.vue?vue&type=template&id=70cca1a5&scoped=true\"\nimport script from \"./RealTimeRouteRender.vue?vue&type=script&lang=js\"\nexport * from \"./RealTimeRouteRender.vue?vue&type=script&lang=js\"\nscript.render = render\nscript.__scopeId = \"data-v-70cca1a5\"\n\nexport default script"],"sourceRoot":""}